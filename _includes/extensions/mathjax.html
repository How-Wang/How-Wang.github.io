<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
      inlineMath: [['$','$']]
    }
  });
</script>
<script
src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>

<!-- <script type="text/x-mathjax-config">
  MathJax.Hub.Register.StartupHook('TeX Jax Ready', function () {
    MathJax.InputJax.TeX.prefilterHooks.Add(function (data) {
      data.math = data.math.replace(/^% <!\[CDATA\[/, '').replace(/%\]\]>$/, '');
    });
  });
  </script>
  <script type="text/javascript" id="MathJax-script" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/latest.js"></script> -->

  <!-- <script>
    document.addEventListener('DOMContentLoaded', function(){
      function stripcdata(x) {
        if (x.startsWith('% <![CDATA[') && x.endsWith('%]]>'))
          return x.substring(11,x.length-4);
        return x;
      }
      document.querySelectorAll("script[type='math/tex']").forEach(function(el){
        el.outerHTML = "\\(" + stripcdata(el.textContent) + "\\)";
      });
      document.querySelectorAll("script[type='math/tex; mode=display']").forEach(function(el){
        el.outerHTML = "\\[" + stripcdata(el.textContent) + "\\]";
      });
    }, false);
    window.MathJax = {
      options: {
        renderActions: {
          findScript: [9, function (doc) {
            for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            }
            doc.findMath();
          }, '']
        }
      }
    };
    </script> -->